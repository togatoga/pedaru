# タブ機能のテストチェックリスト

## 基本的なタブ操作

### タブの追加
- [ ] メニューから「ファイルを開く」で新しいタブが追加される
- [ ] ドラッグ&ドロップで新しいタブが追加される
- [ ] 複数ファイルを同時に開くと複数タブが追加される
- [ ] 新しいタブが自動的にアクティブになる

### タブの削除
- [ ] タブの「×」ボタンで閉じられる
- [ ] Cmd+W (macOS) / Ctrl+W (Windows/Linux) で閉じられる
- [ ] 最後のタブを閉じてもアプリは終了しない
- [ ] アクティブタブを閉じると右のタブがアクティブになる
- [ ] 最右端のタブを閉じると左のタブがアクティブになる

### タブの切り替え
- [ ] タブをクリックして切り替えられる
- [ ] Cmd+Shift+] (macOS) / Ctrl+Shift+] (Windows) で次のタブに移動
- [ ] Cmd+Shift+[ (macOS) / Ctrl+Shift+[ (Windows) で前のタブに移動
- [ ] 最後のタブから次のタブへ移動すると最初のタブに戻る（ループ）
- [ ] 最初のタブから前のタブへ移動すると最後のタブに行く（ループ）

## タブごとの独立した状態

### ページナビゲーション
- [ ] タブAでページ5に移動
- [ ] タブBに切り替えるとページ1（初期状態）
- [ ] タブAに戻るとページ5のまま
- [ ] 各タブで異なるページを表示できる

### ズームレベル
- [ ] タブAをズーム150%に設定
- [ ] タブBに切り替えるとズーム100%（初期状態）
- [ ] タブAに戻るとズーム150%のまま
- [ ] 各タブで異なるズームレベルを保持

### 表示モード
- [ ] タブAを見開きモードに設定
- [ ] タブBに切り替えると単ページモード（初期状態）
- [ ] タブAに戻ると見開きモードのまま
- [ ] 各タブで異なる表示モードを保持

### 履歴
- [ ] タブAでページ1→5→3と移動
- [ ] タブBに切り替えてページ1→2と移動
- [ ] タブAに戻って「戻る」を押すとページ5に戻る（タブBの履歴とは独立）
- [ ] 各タブで独立した履歴を保持

### ブックマーク
- [ ] タブAのページ5にブックマークを追加
- [ ] タブBに切り替えてページ2にブックマークを追加
- [ ] タブAのブックマークサイドバーにはページ5のみ表示
- [ ] タブBのブックマークサイドバーにはページ2のみ表示

### 検索
- [ ] タブAで「keyword」を検索
- [ ] タブBに切り替えると検索状態がリセット
- [ ] タブAに戻ると検索結果が残っている
- [ ] 各タブで独立した検索状態を保持

## エッジケース

### 同じファイルを複数タブで開く
- [ ] 同じPDFファイルを2つのタブで開ける
- [ ] それぞれのタブで異なるページを表示できる
- [ ] それぞれのタブで独立した状態を保持

### 大量のタブ
- [ ] 10個以上のタブを開ける
- [ ] タブバーがスクロール可能
- [ ] 各タブの状態が正しく保持される
- [ ] パフォーマンスが許容範囲（タブ切り替えが遅延しない）

### タブの順序
- [ ] タブの表示順序が追加順と一致
- [ ] タブを閉じた後の順序が正しい

## セッション永続化

### アプリ再起動後
- [ ] 開いていた全てのタブが復元される
- [ ] 各タブのファイルパスが正しい
- [ ] 各タブの現在ページが復元される
- [ ] 各タブのズームレベルが復元される
- [ ] 各タブの表示モードが復元される
- [ ] アクティブだったタブがアクティブのまま復元される
- [ ] 各タブの履歴が復元される
- [ ] 各タブのブックマークが復元される

## タブとウィンドウの連携

### スタンドアロンウィンドウ
- [ ] タブから新規ウィンドウを開ける
- [ ] スタンドアロンウィンドウをタブに戻せる
- [ ] タブに戻した時に状態が保持される

### メインウィンドウのクローズ
- [ ] メインウィンドウを閉じると全てのタブが閉じる
- [ ] スタンドアロンウィンドウは影響を受けない

## パフォーマンス

### メモリ使用量
- [ ] 10タブ開いた状態でメモリ使用量が許容範囲
- [ ] タブを閉じるとメモリが解放される

### レスポンス
- [ ] タブ切り替えが即座に反応（遅延 < 100ms）
- [ ] 大きなPDFを複数タブで開いても操作が遅延しない
